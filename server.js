const express = require('express');
const path = require('path');
const app = express();

// ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù†ÙØ° (ÙŠØ³ØªØ®Ø¯Ù… Ù…Ù†ÙØ° Ø§Ù„Ù†Ø¸Ø§Ù… Ø£Ùˆ 3000)
const PORT = process.env.PORT || 3000;

// ==============================================
// 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ© (Static Files)
// ==============================================
// Ù‡Ø°Ø§ ÙŠØ®Ø¨Ø± Ø§Ù„Ø³ÙŠØ±ÙØ± Ø£Ù† Ø§Ù„ØµÙˆØ±ØŒ CSSØŒ Ùˆ JS Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ù…Ø¬Ù„Ø¯ 'public'
app.use(express.static(path.join(__dirname, 'public')));

// ==============================================
// 2. ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Routing)
// ==============================================
// Ø£ÙŠ Ø±Ø§Ø¨Ø· ÙŠØ·Ù„Ø¨Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø«Ù„ /rooms Ø£Ùˆ /space) Ù†Ø¹ÙŠØ¯ Ù„Ù‡ index.html
// ÙˆÙ†ØªØ±Ùƒ Ø§Ù„Ø¬Ø§ÙØ§ Ø³ÙƒØ±ÙŠØ¨Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØªØµÙØ­ ÙŠÙ‚Ø±Ø± Ù…Ø§Ø°Ø§ ÙŠØ¹Ø±Ø¶.
app.get('*', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'index.html'));
});

// ==============================================
// 3. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±
// ==============================================
app.listen(PORT, () => {
    console.log(`\n==================================================`);
    console.log(`   ðŸš€ IVANOVA SYSTEM CORE ONLINE`);
    console.log(`   ðŸ“¡ LOCAL UPLINK: http://localhost:${PORT}`);
    console.log(`   âœ… STATUS: READY FOR COMMAND`);
    console.log(`==================================================\n`);
});
